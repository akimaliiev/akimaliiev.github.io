<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <link rel="icon" href="/favicon.ico"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="theme-color" content="#000000"/>
  <meta name="description" content="My personal portfolio website."/>
  <link rel="apple-touch-icon" href="/logo192.png"/>
  <link rel="manifest" href="/manifest.json"/>
  <title>Sultan Akimaliyev Portfolio</title>

  <!-- 1) Сразу скрываем Contact и пункт меню на случай мгновенной отрисовки -->
  <style>
    #contact { display: none !important; }
    a[href="#contact"] { display: none !important; }
  </style>

  <!-- 2) Бьём кэш CDN: добавляем версионирование -->
  <script defer="defer" src="/static/js/main.1f538c5a.js?v=2"></script>
  <link href="/static/css/main.e03cf415.css?v=2" rel="stylesheet">
</head>
<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>

  <!-- 3) Жёстко выключаем все service workers и чистим Cache Storage -->
  <script>
  (function () {
    function nukeSwAndCaches() {
      try {
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(regs){
            regs.forEach(function(r){ r.unregister(); });
          });
        }
        if (window.caches && caches.keys) {
          caches.keys().then(function(keys){
            keys.forEach(function(k){ caches.delete(k); });
          });
        }
      } catch (e) { /* ignore */ }
    }
    nukeSwAndCaches();
    // повторим через секунду (если что-то зарегистрируется снова)
    setTimeout(nukeSwAndCaches, 1000);
  })();
  </script>

  <div id="root"></div>

  <!-- 4) Удаляем секцию Contact из DOM, даже если её дорисует React -->
  <script>
  (function () {
    function removeContact() {
      var contact = document.querySelector('#contact');
      if (contact && contact.parentNode) contact.parentNode.removeChild(contact);
      document.querySelectorAll('a[href="#contact"]').forEach(function(a){
        var li = a.closest('li');
        if (li && li.parentNode) li.parentNode.removeChild(li);
        else if (a.parentNode) a.parentNode.removeChild(a);
      });
      var headings = Array.from(document.querySelectorAll('h1,h2,h3,h4'));
      headings.forEach(function(h){
        var t = (h.textContent || '').trim().toLowerCase();
        if (t === 'contact me' || t === 'contact' || t === 'contacts') {
          var section = h.closest('section,div,main,article') || h.parentElement;
          if (section && section.parentNode) section.parentNode.removeChild(section);
        }
      });
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', removeContact);
    } else {
      removeContact();
    }
    // Если SPA перерисует позднее — повторим
    var mo = new MutationObserver(removeContact);
    mo.observe(document.documentElement, { childList: true, subtree: true });
  })();
    
  </script>
  <script>
(function () {
  function killPersonalProjects() {
    // 1) Найти заголовок "Personal Projects" (на всякий случай — без учёта регистра/пробелов)
    var hs = document.querySelectorAll('h1,h2,h3,h4');
    hs.forEach(function(h){
      var t = (h.textContent || '').replace(/\s+/g,' ').trim().toLowerCase();
      if (t === 'personal projects' || t.includes('personal projects')) {
        var section = h.closest('section,div,main,article') || h.parentElement;
        if (section && section.parentNode) section.parentNode.removeChild(section);
      }
    });

    // 2) Ссылки из меню, ведущие к этим проектам/якорям (если есть)
    document.querySelectorAll('a[href*="projects"], a[href*="#projects"]').forEach(function(a){
      var li = a.closest('li');
      if (li && li.parentNode) li.parentNode.removeChild(li);
      else if (a.parentNode) a.parentNode.removeChild(a);
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', killPersonalProjects);
  } else {
    killPersonalProjects();
  }
  // если SPA дорисует позже — повторим
  new MutationObserver(killPersonalProjects).observe(document.documentElement, { childList: true, subtree: true });
})();
</script>

</body>
</html>
